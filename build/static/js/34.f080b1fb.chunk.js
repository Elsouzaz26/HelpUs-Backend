(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{411:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(57),r=n.n(a),c=n(95),o=n(33),u={getGroups:function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/getgroup").then(function(e){return e}).catch(function(e){return console.log(e),!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),getGroupsByDateAndCity:function(){var e=Object(c.a)(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/getgroupByDateAndCity?city=".concat(t,"&date=").concat(n)).then(function(e){return e}).catch(function(e){return console.log(e),!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),saveGroups:function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/saveGroup",{data:t}).then(function(e){return e}).catch(function(e){return console.log(e),!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),kmean:function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/kmean",{data:t}).then(function(e){return e}).catch(function(e){return console.log(e),!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getSeniorBygroupId:function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("newid",t),e.next=3,o.a.get("/getseniorBygroup?id=".concat(t)).then(function(e){return e}).catch(function(e){return console.log(e),!1});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),updateGroup:function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("newid",t),e.next=3,o.a.put("/updategroup/".concat(t),{status:"Done"}).then(function(e){return e}).catch(function(e){return console.log(e),!1});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},932:function(e,t,n){"use strict";n.r(t);var a,r=n(425),c=n(42),o=n(0),u=n.n(o),l=n(477),i=(n(466),n(69)),s=n(18),f=n(14).c.div(a||(a=Object(s.a)(["\n.labels {\n    font-weight: normal;\nfont-size: 16px;\ncolor: #373A3C!important\n}\n\n.left-side {\n    width: 400px\n}\n\nright-side {\n    width: calc(100% - 450px)\n}\n\n.col-50 {\n    display: inline-grid\n}\n"]))),p=(n(798),n(915)),d=n(859),m=n(852),h=n(411),g=["#0088FE","#00C49F","#FFBB28","#FF8042"],v=Math.PI/180,b=function(e){var t=e.cx,n=e.cy,a=e.midAngle,r=e.innerRadius,c=e.outerRadius,o=e.percent,l=(e.index,r+.5*(c-r)),i=t+l*Math.cos(-a*v),s=n+l*Math.sin(-a*v);return u.a.createElement("text",{x:i,y:s,fill:"white",textAnchor:i>t?"start":"end",dominantBaseline:"central"},"".concat((100*o).toFixed(0),"%"))};t.default=function(){var e=Object(o.useState)(""),t=Object(c.a)(e,2),n=t[0],a=t[1],s=Object(o.useState)(""),v=Object(c.a)(s,2),E=v[0],w=v[1],x=Object(o.useState)([]),y=Object(c.a)(x,2),O=y[0],j=y[1],S=Object(o.useState)([]),N=Object(c.a)(S,2),k=N[0],C=N[1],A=Object(o.useState)(!1),F=Object(c.a)(A,2),B=F[0],G=F[1];Object(o.useEffect)(function(){h.a.getGroups().then(function(e){j(Object(r.a)(new Set(e.data.map(function(e){return e.city})))),C([{name:"All",value:e.data.length},{name:"done",value:e.data.filter(function(e){return"To do"!==e.status}).length}]),e.data.length>0&&(a(e.data[0].city),w(e.data[0].date),G(!0))}).catch(function(e){console.log(e)})},[]);var T=function(e,t){""!=e&&""!=t&&(G(!1),h.a.getGroupsByDateAndCity(e,t).then(function(e){C([{name:"All",value:e.data.length},{name:"done",value:e.data.filter(function(e){return"To do"!==e.status}).length}]),G(!0)}).catch(function(e){console.log(e)}))};return u.a.createElement(f,null,u.a.createElement("div",{className:"container-fluid p-3"},u.a.createElement("div",{className:" clearfix mt-0 mb-2"},u.a.createElement("span",{className:" float-left col-6"}," ",u.a.createElement("h4",null,"Manager STATS ")," "),u.a.createElement("span",{className:"text-right"}," ",u.a.createElement(i.a,null))),u.a.createElement("div",{className:"row "},u.a.createElement("div",{className:"left-side "},u.a.createElement("div",{className:"bg-dark rounded mt-4"},u.a.createElement("div",{className:""}," ",u.a.createElement("h6",{className:"text-secondary "},"Group Status situation")),u.a.createElement("div",null,B?u.a.createElement(p.a,{width:400,height:400},u.a.createElement(d.a,{data:k,cx:200,cy:200,labelLine:!1,label:b,outerRadius:80,fill:"#8884d8",dataKey:"value"},k.map(function(e,t){return u.a.createElement(m.a,{key:"cell-".concat(t),fill:g[t%g.length]})}))):null))),u.a.createElement("div",{className:"right-side"},u.a.createElement("div",{className:"col-50"},u.a.createElement("div",{className:"labels "},"Select a date"),u.a.createElement(l.a,{onChange:function(e){console.log(e.toISOString().split("T")[0]),w(e.toISOString().split("T")[0]),T(n,e.toISOString().split("T")[0])}})),u.a.createElement("div",{className:"col-50"},u.a.createElement("div",{class:"form-group"},u.a.createElement("div",{className:"labels "},"Select a city"),u.a.createElement("select",{class:"form-control bgColForm",id:"exampleFormControlSelect1",value:n,onChange:function(e){a(e.target.value),T(e.target.value,E)}},u.a.createElement("option",{value:""}," Choose City"),O.map(function(e){return u.a.createElement("option",{value:e}," ",e)}))))))))}}}]);
//# sourceMappingURL=34.f080b1fb.chunk.js.map